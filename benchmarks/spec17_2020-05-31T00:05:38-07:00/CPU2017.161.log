runcpu v5825 started at 2020-05-23 19:07:23 on "tigerlake1-ravi"
runcpu is: /home/ucsd/SpectreSandboxing/spec2017/bin/harness/runcpu
runcpu: runcpu --config=wasm_lucet --action=run --wasm --define cores=1 605
toolset: linux-x86_64

Locating benchmarks...found 47 benchmarks in 55 benchsets.
Reading config file '/home/ucsd/SpectreSandboxing/spec2017/config/wasm_lucet.cfg'

1 configuration selected:

 Action    Run Mode   Workload      Report Type      Benchmarks
--------   --------   --------   -----------------   --------------------------
validate   speed      refspeed   SPECspeed2017_int   605.mcf_s                 
-------------------------------------------------------------------------------

Setting up environment for running 605.mcf_s...
Starting runcpu for 605.mcf_s...
Running "specperl /home/ucsd/SpectreSandboxing/spec2017/bin/sysinfo" to gather system information.
sysinfo: r5797 of 2017-06-14 (96c45e4568ad54c135fd618bcc091c0f)
sysinfo: Getting system information for Linux...
sysinfo: ...getting CPU info
sysinfo: ...getting info from numactl
sysinfo: ...getting memory info
sysinfo: ...getting OS info
sysinfo: ...getting disk info
sysinfo: ...trying to get DIMM info from dmidecode
Retrieving flags file (gcc.xml)...
Verbosity = 5
Action    = validate
Tune      = base
Label     = wasm_lucet
Size      = refspeed
benchmarks= 605.mcf_s
outputs   = txt,cfg,pdf,csv
username  = ucsd
Environment settings:
KMP_AFFINITY = "granularity=fine,compact"
LD_LIBRARY_PATH = "/home/ucsd/SpectreSandboxing/spec2017/lib/ia32:/home/ucsd/SpectreSandboxing/spec2017/lib/intel64"
OMP_STACKSIZE = "192M"

Benchmarks selected: 605.mcf_s
Compiling Binaries
------------------------------------------------------------------------
COMP: "/opt/wasi-sdk/bin/clang --sysroot /opt/wasi-sdk/share/wasi-sysroot -Wl,--export-all -I/opt/wasi-sdk/lib/clang/10.0.0/include/ -c -o options.o -DSPEC -DNDEBUG  -Ispec_qsort -DSPEC_AUTO_SUPPRESS_OPENMP   -O2 -fno-strict-aliasing  -DSPEC_SUPPRESS_OPENMP              -DSPEC_LP64  <source>"
C: CC="/opt/wasi-sdk/bin/clang --sysroot /opt/wasi-sdk/share/wasi-sysroot -Wl,--export-all -I/opt/wasi-sdk/lib/clang/10.0.0/include/"
C: COBJOPT="-c -o options"
P: CPUFLAGS="-DSPEC -DNDEBUG"
P: BENCH_FLAGS=""
P: BENCH_CFLAGS="-Ispec_qsort -DSPEC_AUTO_SUPPRESS_OPENMP"
O: OPTIMIZE=""
O: COPTIMIZE=" -O2 -fno-strict-aliasing  -DSPEC_SUPPRESS_OPENMP"
P: PORTABILITY=""
P: CPORTABILITY=""
O: EXTRA_CFLAGS=""
O: EXTRA_OPTIMIZE=""
O: EXTRA_COPTIMIZE=""
P: EXTRA_PORTABILITY="-DSPEC_LP64"
P: EXTRA_CPORTABILITY=""
LINK: "/opt/wasi-sdk/bin/clang --sysroot /opt/wasi-sdk/share/wasi-sysroot -Wl,--export-all -I/opt/wasi-sdk/lib/clang/10.0.0/include/   -Wl,-z,muldefs     -O2 -fno-strict-aliasing  -DSPEC_SUPPRESS_OPENMP         <objects>   -lm         -o options  "
C: LD="/opt/wasi-sdk/bin/clang --sysroot /opt/wasi-sdk/share/wasi-sysroot -Wl,--export-all -I/opt/wasi-sdk/lib/clang/10.0.0/include/"
O: EXTRA_LDFLAGS="-Wl,-z,muldefs"
O: COPTIMIZE=" -O2 -fno-strict-aliasing  -DSPEC_SUPPRESS_OPENMP"
C: MATH_LIBS="-lm"
C: LDOUT="-o options"
 CC_VERSION_OPTION:
clang version 10.0.0 (https://github.com/llvm/llvm-project d32170dbd5b0d54436537b6b75beaf44324e0c28)
Target: wasm32-unknown-wasi
Thread model: posix
InstalledDir: /opt/wasi-sdk/bin
  Up to date 605.mcf_s base wasm_lucet


Setting Up Run Directories
  Setting up 605.mcf_s refspeed (ref) base wasm_lucet: run_base_refspeed_wasm_lucet.0000
Issuing command 'sync'
Start command: 2020-05-23 19:07:26 (1590286046.04477)
Stop command: 2020-05-23 19:07:26 (1590286046.20122)
Elapsed time for command: 00:00:00 (0.156455039978027)
-----------------------------------
Running Benchmarks
-----------------------------------
  Running (#1) 605.mcf_s refspeed (ref) base wasm_lucet [2020-05-23 19:07:26]
OpenMP environment variables removed: None
OpenMP environment variables in effect:
	OMP_NUM_THREADS	=> '1'
	OMP_THREAD_LIMIT	=> '1'
	OMP_STACKSIZE	=> '192M'
Pre-run environment changes:
	'OMP_NUM_THREADS' added: (value now '1')
	'OMP_THREAD_LIMIT' added: (value now '1')
Commands to run (specinvoke command file):
    -r
    -N C
    -C /home/ucsd/SpectreSandboxing/spec2017/benchspec/CPU/605.mcf_s/run/run_base_refspeed_wasm_lucet.0000
    -o inp.out -e inp.err ../../../../../../lucet-spectre/target/release/lucet-wasi --heap-address-space "16GiB" --max-heap-size "8GiB" --stack-size "64MiB" --dir ./:./ -- ../run_base_refspeed_wasm_lucet.0000/mcf_s_base.wasm_lucet inp.in  > inp.out 2>> inp.err (timed)
**WARNING: environment variable 'BASH_FUNC__module_raw%%' contains embedded CR or LF; they will be converted to spaces
**WARNING: environment variable 'BASH_FUNC_module%%' contains embedded CR or LF; they will be converted to spaces
**WARNING: environment variable 'BASH_FUNC_scl%%' contains embedded CR or LF; they will be converted to spaces
**WARNING: environment variable 'BASH_FUNC_switchml%%' contains embedded CR or LF; they will be converted to spaces
Specinvoke: /home/ucsd/SpectreSandboxing/spec2017/bin/specinvoke -d /home/ucsd/SpectreSandboxing/spec2017/benchspec/CPU/605.mcf_s/run/run_base_refspeed_wasm_lucet.0000 -f speccmds.cmd -q -e speccmds.err -o speccmds.stdout
Issuing command '/home/ucsd/SpectreSandboxing/spec2017/bin/specinvoke -d /home/ucsd/SpectreSandboxing/spec2017/benchspec/CPU/605.mcf_s/run/run_base_refspeed_wasm_lucet.0000 -f speccmds.cmd -q -e speccmds.err -o speccmds.stdout'
Start command: 2020-05-23 19:07:26 (1590286046.24106)
Stop command: 2020-05-23 19:24:41 (1590287081.89121)
Elapsed time for command: 00:17:15 (1035.65014696121)
Workload elapsed time (copy 0 workload 1) = 1035.492999 seconds
Copy 0 of 605.mcf_s (base refspeed) run 1 finished at 2020-05-23 19:24:41.  Total elapsed time: 1035.492999
OpenMP environment variables removed: None
OpenMP environment variables in effect:
	OMP_NUM_THREADS	=> '1'
	OMP_THREAD_LIMIT	=> '1'
	OMP_STACKSIZE	=> '192M'
Pre-run environment changes:
	'OMP_NUM_THREADS' added: (value now '1')
	'OMP_THREAD_LIMIT' added: (value now '1')
comparing 'inp.out' with 
comparing 'mcf.out' with 
Specinvoke: /home/ucsd/SpectreSandboxing/spec2017/bin/specinvoke -d /home/ucsd/SpectreSandboxing/spec2017/benchspec/CPU/605.mcf_s/run/run_base_refspeed_wasm_lucet.0000 -f compare.cmd -E -e compare.err -o compare.stdout
Issuing command '/home/ucsd/SpectreSandboxing/spec2017/bin/specinvoke -d /home/ucsd/SpectreSandboxing/spec2017/benchspec/CPU/605.mcf_s/run/run_base_refspeed_wasm_lucet.0000 -f compare.cmd -E -e compare.err -o compare.stdout'
Start command: 2020-05-23 19:24:41 (1590287081.93422)
Stop command: 2020-05-23 19:24:42 (1590287082.35142)
Elapsed time for command: 00:00:00 (0.417203903198242)
Benchmark Times:
  Run Start:    2020-05-23 19:07:26 (1590286046)
  Run Stop:     2020-05-23 19:24:41 (1590287081)
  Run Elapsed:  00:17:15 (1035)
  Run Reported: 00:17:15 (1035 493098000 1035.493098)
 Success 605.mcf_s base refspeed ratio=4.56, runtime=1035.493098, copies=1, threads=1, power=0.00W, temp=0.00 degC, humidity=0.00%
-----------------------------------
  Running (#2) 605.mcf_s refspeed (ref) base wasm_lucet [2020-05-23 19:24:42]
OpenMP environment variables removed: None
OpenMP environment variables in effect:
	OMP_NUM_THREADS	=> '1'
	OMP_THREAD_LIMIT	=> '1'
	OMP_STACKSIZE	=> '192M'
Pre-run environment changes:
	'OMP_NUM_THREADS' added: (value now '1')
	'OMP_THREAD_LIMIT' added: (value now '1')
Commands to run (specinvoke command file):
    -r
    -N C
    -C /home/ucsd/SpectreSandboxing/spec2017/benchspec/CPU/605.mcf_s/run/run_base_refspeed_wasm_lucet.0000
    -o inp.out -e inp.err ../../../../../../lucet-spectre/target/release/lucet-wasi --heap-address-space "16GiB" --max-heap-size "8GiB" --stack-size "64MiB" --dir ./:./ -- ../run_base_refspeed_wasm_lucet.0000/mcf_s_base.wasm_lucet inp.in  > inp.out 2>> inp.err (timed)
Specinvoke: /home/ucsd/SpectreSandboxing/spec2017/bin/specinvoke -d /home/ucsd/SpectreSandboxing/spec2017/benchspec/CPU/605.mcf_s/run/run_base_refspeed_wasm_lucet.0000 -f speccmds.cmd -q -e speccmds.err -o speccmds.stdout
Issuing command '/home/ucsd/SpectreSandboxing/spec2017/bin/specinvoke -d /home/ucsd/SpectreSandboxing/spec2017/benchspec/CPU/605.mcf_s/run/run_base_refspeed_wasm_lucet.0000 -f speccmds.cmd -q -e speccmds.err -o speccmds.stdout'
Start command: 2020-05-23 19:24:42 (1590287082.3935)
Stop command: 2020-05-23 19:42:00 (1590288120.83184)
Elapsed time for command: 00:17:18 (1038.43834686279)
Workload elapsed time (copy 0 workload 1) = 1038.282991 seconds
Copy 0 of 605.mcf_s (base refspeed) run 2 finished at 2020-05-23 19:42:00.  Total elapsed time: 1038.282991
OpenMP environment variables removed: None
OpenMP environment variables in effect:
	OMP_NUM_THREADS	=> '1'
	OMP_THREAD_LIMIT	=> '1'
	OMP_STACKSIZE	=> '192M'
Pre-run environment changes:
	'OMP_NUM_THREADS' added: (value now '1')
	'OMP_THREAD_LIMIT' added: (value now '1')
comparing 'inp.out' with 
comparing 'mcf.out' with 
Specinvoke: /home/ucsd/SpectreSandboxing/spec2017/bin/specinvoke -d /home/ucsd/SpectreSandboxing/spec2017/benchspec/CPU/605.mcf_s/run/run_base_refspeed_wasm_lucet.0000 -f compare.cmd -E -e compare.err -o compare.stdout
Issuing command '/home/ucsd/SpectreSandboxing/spec2017/bin/specinvoke -d /home/ucsd/SpectreSandboxing/spec2017/benchspec/CPU/605.mcf_s/run/run_base_refspeed_wasm_lucet.0000 -f compare.cmd -E -e compare.err -o compare.stdout'
Start command: 2020-05-23 19:42:00 (1590288120.874)
Stop command: 2020-05-23 19:42:01 (1590288121.28322)
Elapsed time for command: 00:00:00 (0.409215927124023)
Benchmark Times:
  Run Start:    2020-05-23 19:24:42 (1590287082)
  Run Stop:     2020-05-23 19:42:00 (1590288120)
  Run Elapsed:  00:17:18 (1038)
  Run Reported: 00:17:18 (1038 283091000 1038.283091)
 Success 605.mcf_s base refspeed ratio=4.55, runtime=1038.283091, copies=1, threads=1, power=0.00W, temp=0.00 degC, humidity=0.00%
-----------------------------------
  Running (#3) 605.mcf_s refspeed (ref) base wasm_lucet [2020-05-23 19:42:01]
OpenMP environment variables removed: None
OpenMP environment variables in effect:
	OMP_NUM_THREADS	=> '1'
	OMP_THREAD_LIMIT	=> '1'
	OMP_STACKSIZE	=> '192M'
Pre-run environment changes:
	'OMP_NUM_THREADS' added: (value now '1')
	'OMP_THREAD_LIMIT' added: (value now '1')
Commands to run (specinvoke command file):
    -r
    -N C
    -C /home/ucsd/SpectreSandboxing/spec2017/benchspec/CPU/605.mcf_s/run/run_base_refspeed_wasm_lucet.0000
    -o inp.out -e inp.err ../../../../../../lucet-spectre/target/release/lucet-wasi --heap-address-space "16GiB" --max-heap-size "8GiB" --stack-size "64MiB" --dir ./:./ -- ../run_base_refspeed_wasm_lucet.0000/mcf_s_base.wasm_lucet inp.in  > inp.out 2>> inp.err (timed)
Specinvoke: /home/ucsd/SpectreSandboxing/spec2017/bin/specinvoke -d /home/ucsd/SpectreSandboxing/spec2017/benchspec/CPU/605.mcf_s/run/run_base_refspeed_wasm_lucet.0000 -f speccmds.cmd -q -e speccmds.err -o speccmds.stdout
Issuing command '/home/ucsd/SpectreSandboxing/spec2017/bin/specinvoke -d /home/ucsd/SpectreSandboxing/spec2017/benchspec/CPU/605.mcf_s/run/run_base_refspeed_wasm_lucet.0000 -f speccmds.cmd -q -e speccmds.err -o speccmds.stdout'
Start command: 2020-05-23 19:42:01 (1590288121.32605)
Stop command: 2020-05-23 19:59:22 (1590289162.03816)
Elapsed time for command: 00:17:20 (1040.71210813522)
Workload elapsed time (copy 0 workload 1) = 1040.557348 seconds
Copy 0 of 605.mcf_s (base refspeed) run 3 finished at 2020-05-23 19:59:21.  Total elapsed time: 1040.557348
OpenMP environment variables removed: None
OpenMP environment variables in effect:
	OMP_NUM_THREADS	=> '1'
	OMP_THREAD_LIMIT	=> '1'
	OMP_STACKSIZE	=> '192M'
Pre-run environment changes:
	'OMP_NUM_THREADS' added: (value now '1')
	'OMP_THREAD_LIMIT' added: (value now '1')
comparing 'inp.out' with 
comparing 'mcf.out' with 
Specinvoke: /home/ucsd/SpectreSandboxing/spec2017/bin/specinvoke -d /home/ucsd/SpectreSandboxing/spec2017/benchspec/CPU/605.mcf_s/run/run_base_refspeed_wasm_lucet.0000 -f compare.cmd -E -e compare.err -o compare.stdout
Issuing command '/home/ucsd/SpectreSandboxing/spec2017/bin/specinvoke -d /home/ucsd/SpectreSandboxing/spec2017/benchspec/CPU/605.mcf_s/run/run_base_refspeed_wasm_lucet.0000 -f compare.cmd -E -e compare.err -o compare.stdout'
Start command: 2020-05-23 19:59:22 (1590289162.07748)
Stop command: 2020-05-23 19:59:22 (1590289162.48238)
Elapsed time for command: 00:00:00 (0.404898166656494)
Benchmark Times:
  Run Start:    2020-05-23 19:42:01 (1590288121)
  Run Stop:     2020-05-23 19:59:22 (1590289162)
  Run Elapsed:  00:17:21 (1041)
  Run Reported: 00:17:20 (1040 557431000 1040.557431)
 Success 605.mcf_s base refspeed ratio=4.54, runtime=1040.557431, copies=1, threads=1, power=0.00W, temp=0.00 degC, humidity=0.00%
Success: 3x605.mcf_s
Producing Raw Reports
 label: wasm_lucet
  workload: refspeed (ref)
   benchset: intspeed
   metric: SPECspeed2017_int_base
    format: raw -> /home/ucsd/SpectreSandboxing/spec2017/result/CPU2017.161.intspeed.refspeed.rsf
Parsing flags for 605.mcf_s base: done
Doing flag reduction: done
    format: flags -> /home/ucsd/SpectreSandboxing/spec2017/result/CPU2017.161.intspeed.refspeed.flags.html
    format: cfg -> /home/ucsd/SpectreSandboxing/spec2017/result/CPU2017.161.intspeed.refspeed.cfg
    format: CSV -> /home/ucsd/SpectreSandboxing/spec2017/result/CPU2017.161.intspeed.refspeed.csv
    format: PDF -> /home/ucsd/SpectreSandboxing/spec2017/result/CPU2017.161.intspeed.refspeed.pdf
    format: Text -> /home/ucsd/SpectreSandboxing/spec2017/result/CPU2017.161.intspeed.refspeed.txt
   benchset: intrate
   benchset: fpspeed
   benchset: fprate
runcpu finished at 2020-05-23 19:59:25; 3121 total seconds elapsed
Info: file_tail(135383): file '/home/ucsd/SpectreSandboxing/spec2017/tmp/CPU2017.161/templogs/preenv.intspeed.161.0.debug' was removed and will no longer be followed.  No action is required.
The log for this run is in /home/ucsd/SpectreSandboxing/spec2017/result/CPU2017.161.log

runcpu finished at 2020-05-23 19:59:26; 3122 total seconds elapsed
